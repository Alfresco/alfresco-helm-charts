repository:
  edition: "Enterprise"
transformrouter:
  replicaCount: 2
  nodeSelector: {}
  image:
    repository: quay.io/alfresco/alfresco-transform-router
    tag: 2.0.0
    pullPolicy: IfNotPresent
    internalPort: 8095
  service:
    name: transform-router
    type: ClusterIP
    externalPort: 80
  environment:
    JAVA_OPTS: >-
      -XX:MinRAMPercentage=50
      -XX:MaxRAMPercentage=80
  readinessProbe:
    initialDelaySeconds: 140
    periodSeconds: 60
    timeoutSeconds: 10
  livenessProbe:
    initialDelaySeconds: 140
    periodSeconds: 120
    timeoutSeconds: 60
  podSecurityContext:
    runAsNonRoot: true
    runAsUser: 33016
  resources:
    requests:
      cpu: "0.25"
      memory: "300Mi"
    limits:
      cpu: "1"
      memory: "512Mi"
pdfrenderer:
  replicaCount: 2
  nodeSelector: {}
  image:
    repository: alfresco/alfresco-pdf-renderer
    tag: 3.0.0
    pullPolicy: IfNotPresent
    internalPort: 8090
  service:
    name: pdfrenderer
    type: ClusterIP
    externalPort: 80
  podSecurityContext:
    runAsNonRoot: true
    runAsUser: 33001
  resources:
    requests:
      cpu: "0.25"
      memory: "300Mi"
    limits:
      cpu: "2"
      memory: "1000Mi"
  environment:
    JAVA_OPTS: >-
      -XX:MinRAMPercentage=50
      -XX:MaxRAMPercentage=80
  readinessProbe:
    initialDelaySeconds: 20
    periodSeconds: 60
    timeoutSeconds: 10
  livenessProbe:
    initialDelaySeconds: 10
    periodSeconds: 20
    timeoutSeconds: 10
    livenessPercent: 150
    livenessTransformPeriodSeconds: 600
    maxTransforms: 10000
    maxTransformSeconds: 1200
imagemagick:
  replicaCount: 2
  nodeSelector: {}
  image:
    repository: alfresco/alfresco-imagemagick
    tag: 3.0.0
    pullPolicy: IfNotPresent
    internalPort: 8090
  service:
    name: imagemagick
    type: ClusterIP
    externalPort: 80
  podSecurityContext:
    runAsNonRoot: true
    runAsUser: 33002
  resources:
    requests:
      cpu: "0.5"
      memory: "300Mi"
    limits:
      cpu: "4"
      memory: "1000Mi"
  environment:
    JAVA_OPTS: >-
      -XX:MinRAMPercentage=50
      -XX:MaxRAMPercentage=80
  readinessProbe:
    initialDelaySeconds: 20
    periodSeconds: 60
    timeoutSeconds: 10
  livenessProbe:
    initialDelaySeconds: 10
    periodSeconds: 20
    timeoutSeconds: 10
    livenessPercent: 150
    livenessTransformPeriodSeconds: 600
    maxTransforms: 10000
    maxTransformSeconds: 900
libreoffice:
  replicaCount: 2
  nodeSelector: {}
  image:
    repository: alfresco/alfresco-libreoffice
    tag: 3.0.0
    pullPolicy: IfNotPresent
    internalPort: 8090
  service:
    name: libreoffice
    type: ClusterIP
    externalPort: 80
  resources:
    requests:
      cpu: "0.5"
      memory: "400Mi"
    limits:
      cpu: "4"
      memory: "1000Mi"
  podSecurityContext:
    runAsNonRoot: true
    runAsUser: 33003
  environment:
    JAVA_OPTS: >-
      -XX:MinRAMPercentage=50
      -XX:MaxRAMPercentage=80
  readinessProbe:
    initialDelaySeconds: 20
    periodSeconds: 60
    timeoutSeconds: 10
  livenessProbe:
    initialDelaySeconds: 10
    periodSeconds: 20
    timeoutSeconds: 10
    livenessPercent: 250
    livenessTransformPeriodSeconds: 600
    maxTransforms: 99999
    maxTransformSeconds: 1800
tika:
  replicaCount: 2
  nodeSelector: {}
  image:
    repository: alfresco/alfresco-tika
    tag: 3.0.0
    pullPolicy: IfNotPresent
    internalPort: 8090
  service:
    name: tika
    type: ClusterIP
    externalPort: 80
  podSecurityContext:
    runAsNonRoot: true
    runAsUser: 33004
  resources:
    requests:
      cpu: "0.25"
      memory: "600Mi"
    limits:
      cpu: "2"
      memory: "1000Mi"
  environment:
    JAVA_OPTS: >-
      -XX:MinRAMPercentage=50
      -XX:MaxRAMPercentage=80
  readinessProbe:
    initialDelaySeconds: 60
    periodSeconds: 60
    timeoutSeconds: 10
  livenessProbe:
    initialDelaySeconds: 60
    periodSeconds: 20
    timeoutSeconds: 10
    livenessPercent: 400
    livenessTransformPeriodSeconds: 600
    maxTransforms: 10000
    maxTransformSeconds: 1800
transformmisc:
  enabled: true
  replicaCount: 2
  nodeSelector: {}
  image:
    repository: alfresco/alfresco-transform-misc
    tag: 3.0.0
    pullPolicy: IfNotPresent
    internalPort: 8090
  service:
    name: transformmisc
    type: ClusterIP
    externalPort: 80
  podSecurityContext:
    runAsNonRoot: true
    runAsUser: 33006
  resources:
    requests:
      cpu: "0.25"
      memory: "300Mi"
    limits:
      cpu: "2"
      memory: "1000Mi"
  environment:
    JAVA_OPTS: >-
      -XX:MinRAMPercentage=50
      -XX:MaxRAMPercentage=80
  readinessProbe:
    initialDelaySeconds: 20
    periodSeconds: 60
    timeoutSeconds: 10
  livenessProbe:
    initialDelaySeconds: 10
    periodSeconds: 20
    timeoutSeconds: 10
    livenessPercent: 400
    livenessTransformPeriodSeconds: 600
    maxTransforms: 10000
    maxTransformSeconds: 1800
filestore:
  replicaCount: 1
  nodeSelector: {}
  image:
    repository: quay.io/alfresco/alfresco-shared-file-store
    tag: 2.0.0
    pullPolicy: IfNotPresent
    internalPort: 8099
  initContainer:
    image:
      repository: busybox
      tag: 1.35.0
      pullPolicy: IfNotPresent
    resources:
      limits:
        cpu: "0.50"
        memory: "10Mi"
  service:
    name: filestore
    type: ClusterIP
    externalPort: 80
  podSecurityContext:
    runAsUser: 33030
    runAsGroup: 1000
    fsGroup: 1000
  resources:
    requests:
      cpu: "0.25"
      memory: "200Mi"
    limits:
      cpu: "2"
      memory: "1000Mi"
  environment:
    scheduler.content.age.millis: "86400000"
    scheduler.cleanup.interval: "86400000"
    JAVA_OPTS: >-
      -XX:MinRAMPercentage=50
      -XX:MaxRAMPercentage=80
  readinessProbe:
    initialDelaySeconds: 20
    periodSeconds: 60
    timeoutSeconds: 10
  livenessProbe:
    initialDelaySeconds: 10
    periodSeconds: 20
    timeoutSeconds: 10
    livenessPercent: 150
    livenessSavePeriodSeconds: 600
  persistence:
    # -- Persist filestore data
    enabled: true
    # -- Specify a storageClass for dynamic provisioning
    accessModes:
      - ReadWriteOnce
    # -- Bind PVC based on storageClass (e.g. dynamic provisionning)
    storageClass:
    # -- Use pre-provisioned pv through its claim (e.g. static provisionning)
    existingClaim: null
    data:
      mountPath: "/tmp/Alfresco"
      subPath: "alfresco-content-services/filestore-data"
activemq:
  nameOverride: activemq
  enabled: false
  # -- Possibility to choose Node for pod, with a key-value pair label
  # e.g {"kubernetes.io/hostname": multinode-demo-m02}
  nodeSelector: {}
  adminUser:
    # -- Default username for the embedded broker admin user
    user: admin
    # -- Default password for the embedded broker admin user
    password: admin
# -- external activemq connection setting when activemq.enabled=false
messageBroker: &acs_messageBroker
  url: null
  user: null
  password: null
  # -- Name of the secret managed by this chart
  secretName: &acs_messageBroker_secretName acs-alfresco-cs-brokersecret
  # -- Alternatively, provide credentials via an existing secret that contains BROKER_URL, BROKER_USERNAME and BROKER_PASSWORD keys
  existingSecretName: null
global:
  alfrescoRegistryPullSecrets: quay-registry-secret
  strategy:
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
  ai:
    enabled: false
