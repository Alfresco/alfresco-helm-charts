repository:
  edition: "Enterprise"
ooiService:
  replicaCount: 2
  nodeSelector: {}
  image:
    repository: quay.io/alfresco/alfresco-ooi-service
    tag: 1.1.3
    pullPolicy: IfNotPresent
    internalPort: 9095
  service:
    name: ooi-service
    type: ClusterIP
    externalPort: 80
  ingress:
    path: /ooi-service
    tls: []
    #  - secretName: chart-example-tls
    #    hosts:
    #      - chart-example.local
  podSecurityContext:
    runAsNonRoot: true
    runAsUser: 33006
  resources:
    requests:
      cpu: "0.25"
      memory: "1000Mi"
    limits:
      cpu: "2"
      memory: "1000Mi"
  environment:
    JAVA_OPTS: " -Dalfresco.base-url=http://acs-alfresco-cs-repository:80"
  readinessProbe:
    initialDelaySeconds: 20
    periodSeconds: 60
    timeoutSeconds: 10
  livenessProbe:
    initialDelaySeconds: 10
    periodSeconds: 20
    timeoutSeconds: 10
ooi:
  enabled: false
postgresql:
  # -- Toggle embedded postgres for Alfresco Content Services repository
  # Check [PostgreSQL Bitnami chart
  # Documentation](https://github.com/bitnami/charts/tree/main/bitnami/postgresql)
  enabled: true
  nameOverride: postgresql-acs
  image:
    tag: 14.4.0
    pullPolicy: IfNotPresent
  commonAnnotations:
    application: alfresco-content-services
  auth:
    existingSecret:
    username: alfresco
    password: alfresco
    database: alfresco
  primary:
    extendedConfiguration: |
      max_connections = 250
      shared_buffers = 512MB
      effective_cache_size = 2GB
      wal_level = minimal
      max_wal_senders = 0
      max_replication_slots = 0
      log_min_messages = LOG
    resources:
      requests:
        cpu: "0.5"
        memory: "1500Mi"
      limits:
        cpu: "8"
        memory: "8192Mi"
    persistence:
      # -- set the storageClass to use for dynamic provisioning.
      # setting it to null means "default storageClass".
      storageClass: null
      # -- provide an existing persistent volume claim name to persist SQL data
      # Make sure the root folder has the appropriate permissions/ownhership set.
      existingClaim: null
      subPath: "alfresco-content-services/database-data"
