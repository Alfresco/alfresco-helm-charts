---
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ template "alfresco-sync-service.fullname" . }}
  labels:
    {{- include "alfresco-sync-service.labels" . | nindent 4 }}
data:
  JAVA_OPTS: >-
    -Dsql.db.url=$DATABASE_URL
    -Dsql.db.driver=$DATABASE_DRIVER
    -Dsql.db.username=$DATABASE_USERNAME
    -Dsql.db.password=$DATABASE_PASSWORD
    -Drepo.hostname=$REPO_HOST
    -Drepo.port=$REPO_PORT
    -Drepo.scheme=${REPO_SCHEME:-http}
    -Ddw.server.applicationConnectors[0].type=http
    -Dmessaging.broker.url=$BROKER_URL
    -Dmessaging.username=$BROKER_USERNAME
    -Dmessaging.password=$BROKER_PASSWORD
    {{ .Values.environment.JAVA_OPTS }}
    {{ .Values.environment.EXTRA_JAVA_OPTS }}
